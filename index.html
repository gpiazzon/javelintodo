<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Javelin Training Checklist</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/lucide.min.js"></script>
</head>
<body>
  <header class="header">
    <button id="prev-day" class="nav-btn" aria-label="Previous Day"><i data-lucide="chevron-left"></i></button>
    <h1 id="date" class="date-title"></h1>
    <button id="next-day" class="nav-btn" aria-label="Next Day"><i data-lucide="chevron-right"></i></button>
  </header>

  <main>
    <section id="task-container"></section>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const tasksByDay = {
        monday: {
          'ðŸŒ… AM Mobility (5â€“10Â min)': {
            note: 'Do a brief morning mobility flow to loosen up for the day. Focus on spine and shoulder mobility to prep for throwing later.',
            items: [
              '1â€“2 sets of Catâ€‘Cows',
              '1â€“2 sets of Arm Circles',
              '1â€“2 sets of Band Pullâ€‘Aparts',
              '1â€“2 sets of Thoracic Rotations'
            ]
          },
          'â˜€ï¸ PM Javelin Session': {
            note: 'Technique drills, runâ€‘up, and throws with coach',
            items: [
              'Dynamic warmâ€‘up: light jog, skips, arm/leg swings',
              'Throwing drills: running crossovers, elastic band drills',
              'Focus: lead with hip/chest, relaxed arm until final whip',
              'Block leg & shoulder layback for max energy transfer'
            ]
          },
          'ðŸ› ï¸ Postâ€‘Throw Arm Care': {
            note: 'Cooldown to speed recovery and safeguard shoulder/elbow',
            items: [
              'Light band pullâ€‘aparts â€“Â 2Ã—15â€“20 (scapular retraction)',
              'Banded external rotations â€“Â 2Ã—15 each arm (rotator cuff)',
              'Highâ€‘rep band curls & triceps ext â€“Â 1Ã—50â€“100',
              'Sleeper stretch for shoulder IR',
              'Forearm/wrist stretches',
              'Slow spinal twist or â€œthrowerâ€™s stretchâ€'
            ]
          }
        },
        tuesday: {
          'ðŸŒ™ Evening Mobility (DayÂ 1)': {
            note: 'Hanging + Back Bridge focus',
            items: [
              'Passive/Active hang â€“Â 1â€“2Ã—60s',
              'Back Bridge rotations â€“Â 1â€“2Ã—1m'
            ]
          },
          'ðŸ›¡ï¸ Shoulder Prehab': {
            items: [
              'Scapular pushâ€‘ups â€“Â 2Ã—15',
              'Wall Angels â€“Â 2Ã—10'
            ]
          },
          'ðŸƒ Optional': {
            items: [
              'Barefoot jog/hops â€“Â 5â€“10Â min'
            ]
          }
        },
        wednesday: {
          'ðŸ‹ï¸â€â™‚ï¸ Gym (Lowerâ€‘Body)': {
            items: [
              'Trapâ€‘bar deadlift â€“Â 4Ã—5',
              'Box squats â€“Â 3Ã—8',
              'Split squats/lunges â€“Â 3Ã—8 each',
              'Back extensions â€“Â 2Ã—15',
              'Planks â€“Â 2Ã—45s'
            ]
          }
        },
        thursday: {
          'ðŸŒ… AM Mobility (5â€“10Â min)': {
            note: 'Quick activation for throwing session tonight',
            items: [ 'Catâ€‘Cows, Arm Circles, Band Pullâ€‘Aparts' ]
          },
          'â˜€ï¸ PM Javelin Session': {
            note: 'Coached throwing practice',
            items: [ 'Technique drills, runâ€‘up, and full throws' ]
          },
          'ðŸ› ï¸ Postâ€‘Throw Arm Care': {
            items: [ 'Same as Monday arm care routine' ]
          }
        },
        friday: {
          'ðŸ‹ï¸â€â™‚ï¸ Gym (Upperâ€‘Body)': {
            items: [
              'Bench press â€“Â 5Ã—5',
              'Medâ€‘ball overhead throws â€“Â 3Ã—5',
              'Dumbbell fly â€“Â 3Ã—10',
              'Rows and face pulls â€“Â 3Ã—12',
              'Pallof press â€“Â 2Ã—10 each side'
            ]
          }
        },
        saturday: {
          'ðŸŒ™ Evening Mobility (DayÂ 2)': {
            note: 'Side Split + Palms to Floor',
            items: [ 'Deep squat groin stretch', 'Iso lunge hold â€“Â 2â€“5Â min' ]
          },
          'ðŸƒâ€â™‚ï¸ Light Conditioning': {
            items: [ 'Sprint drills or easy jog â€“Â 4Ã—30m or 10Â min' ]
          }
        },
        sunday: {
          'ðŸŒ„ Recovery & Mobility (DayÂ 3)': {
            note: 'Throwerâ€™s Stretch + Front Split',
            items: [ 'Pigeon stretch', 'Thoracic bridge reaches' ]
          },
          'ðŸ½ï¸ Recovery & Reflection': {
            items: [ 'Active rest: walk or bike', 'Reflect & plan next week' ]
          }
        }
      };

      const dateEl = document.getElementById('date');
      const container = document.getElementById('task-container');
      const prevBtn = document.getElementById('prev-day');
      const nextBtn = document.getElementById('next-day');
      let currentDate = new Date();

      function render() {
        container.innerHTML = '';
        const key = currentDate.toLocaleDateString(undefined,{weekday:'long'}).toLowerCase();
        dateEl.textContent = currentDate.toLocaleDateString(undefined,{weekday:'long',month:'short',day:'numeric'});
        const dayData = tasksByDay[key] || {};

        for (let [group, data] of Object.entries(dayData)) {
          const groupEl = document.createElement('div');
          groupEl.className = 'task-group';
          const h2 = document.createElement('h2'); h2.textContent = group;
          groupEl.appendChild(h2);
          if (data.note) {
            const p = document.createElement('p'); p.className = 'note'; p.textContent = data.note;
            groupEl.appendChild(p);
          }
          const ul = document.createElement('ul');
          data.items.forEach((task,i) => {
            const id = `${key}-${group}-${i}`;
            const li = document.createElement('li'); li.className='task-item';
            const chk = document.createElement('input'); chk.type='checkbox'; chk.id=id;
            chk.checked=JSON.parse(localStorage.getItem(id)||false);
            chk.addEventListener('change',()=>{
              localStorage.setItem(id,chk.checked);
              li.classList.toggle('completed',chk.checked);
              if(chk.checked) ul.appendChild(li); else ul.insertBefore(li,ul.children[i]);
            });
            const lbl = document.createElement('label'); lbl.htmlFor=id;
            lbl.innerHTML = `<i data-lucide='circle'></i> ${task}`;
            li.append(chk,lbl);
            if(chk.checked) li.classList.add('completed');
            ul.appendChild(li);
          });
          groupEl.appendChild(ul);
          container.appendChild(groupEl);
        }
        lucide.replace();
      }

      prevBtn.onclick = () => { currentDate.setDate(currentDate.getDate()-1); render(); };
      nextBtn.onclick = () => { currentDate.setDate(currentDate.getDate()+1); render(); };
      render();
    });
  </script>
</body>
</html>
